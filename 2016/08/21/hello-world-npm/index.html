<!DOCTYPE html><html amp><head><meta charset="utf-8"><link href="https://potofcode.com/2016/08/21/hello-world-npm/index.html" rel="canonical"><title>Pot Of Code: Hello World. NPM</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="author" content="Ivan Zaharchenko"><meta name="description" content="Hello World. Описание основных возможностей менеджера модулей NPM для node js и пример как создать свой NPM модуль"><meta name="keywords" content="программирование"><meta property="og:type" content="article"><meta property="og:title" content="Pot Of Code: Hello World. NPM"><meta property="og:url" content="https://potofcode.com/2016/08/21/hello-world-npm/"><meta property="og:site_name" content="Pot Of Code"><meta property="og:description" content="Hello World. Описание основных возможностей менеджера модулей NPM для node js и пример как создать свой NPM модуль"><meta property="og:image" content="https://potofcode.com/2016/08/21/hello-world-npm/npm.png"><meta property="og:updated_time" content="2016-08-24T00:43:12.037Z"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Pot Of Code: Hello World. NPM"><meta property="twitter:description" content="Hello World. Описание основных возможностей менеджера модулей NPM для node js и пример как создать свой NPM модуль"><meta property="twitter:image" content="https://potofcode.com/2016/08/21/hello-world-npm/npm.png"><meta property="twitter:creator" content="@potofcode"><meta property="twitter:site" content="@potofcode"><link rel="publisher" href="3axap4eHko"><meta property="fb:admins" content="1336988095"><meta property="fb:app_id" content="778520525558698"><meta property="vk:title" content="Pot Of Code: Hello World. NPM"><meta property="vk:url" content="https://potofcode.com/2016/08/21/hello-world-npm/"><meta property="vk:image" content="https://potofcode.com/2016/08/21/hello-world-npm/npm.png"><meta property="vk:description" content="Hello World. Описание основных возможностей менеджера модулей NPM для node js и пример как создать свой NPM модуль"><meta name="google-site-verification" content="HTUTU2276aWkgL6NZ5yLui5u6EvpZyzx36SifjWFPQc"><link href="/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet"><link href="/vendor/bootstrap/css/bootstrap.yeti.min.css" rel="stylesheet"><link href="/css/style.css" rel="stylesheet"></head><body><nav class="navbar navbar-default navbar-fixed-top shadow-4dp"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand"><h1>Pot Of Code</h1></a></div><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/categories/статьи/">Статьи</a></li><li><a href="/categories/уроки/">Уроки</a></li><li><a href="/categories/игры/">Игры</a></li><li><a href="/categories/путешествия/">Путешествия</a></li><li><a href="/about">Обо мне</a></li></ul></div></div></nav><main class="row"><div class="container"><div class="col-lg-8 col-md-8 col-sm-12"><div class="shadow-4dp content"><img src="https://potofcode.com/2016/08/21/hello-world-npm/npm.png" alt="Hello World. NPM" title="Hello World. NPM" class="post-image"/><h2 class="post-title">Hello World. NPM</h2><div class="post-header"><span><i class="fa fa-calendar"></i><a href="/2016/08/21/hello-world-npm/"><time datetime="2016-08-22T03:08:13.000Z">2016-08-21</time></a></span></div><div class="post-content"><p>Ave $USER!</p>
<p>В этом <code>Hello World</code> мы разберем основные возможности менеджера модулей NPM для <code>node js</code>  и как создать свой NPM модуль.</p>
<a id="more"></a>
<h2 id="Немного-теории"><a href="#Немного-теории" class="headerlink" title="Немного теории"></a>Немного теории</h2><p>Что бы воспользоваться NPM необходимо установить <code>node js</code> для этого идем на <a href="https://nodejs.org" target="_blank" rel="external">nodejs.org</a> и следуем инструкциям по установке.
Когда <code>node js</code> будет установлен, необходимо открыть командную строку и выпонить команду:
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm -v</div></pre></td></tr></table></figure></p>
<p>Если <code>node js</code> установлен правильно, вы увидите версию <code>NPM</code>. <code>NPM</code> это Node Package Manager.
Его задача, устанавливать модули <code>Node JS</code> и решать конфликты между ними.</p>
<p>Для установки модулей используется команда:
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm install [package1, package2, etc]</div></pre></td></tr></table></figure></p>
<p>Перед тем как, что либо устанавливать, необходимо знать, что существует 2 типа установки модулей:</p>
<ol>
<li>Локальный</li>
<li>Глобальный</li>
</ol>
<p>При локальной установке, модуль будет установлен в директорию <code>node_modules</code> текущего проекта, а при глобальной, в глобальную дерикторию <code>NPM</code>.
Чаще всего в глобальную директорию устанавливают модули интерфейса командной строки, либо их подмодули. Для такого типа установки добавляют аргумент <code>-g</code>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm install -g [package1, package2, etc]</div></pre></td></tr></table></figure></p>
<p>В локальную директорию устанавливают модули, которые должны быть непосредственно включены в проект либо, которые используются при его разработке.
Для такой установки выполняют команды
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm install --save [package1, package2, etc]</div></pre></td></tr></table></figure></p>
<p>и
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm install --save-dev [package1, package2, etc]</div></pre></td></tr></table></figure></p>
<p>соответственно.</p>
<p>Для того, что бы имена локальных модулей были сохранены, <code>NPM</code> использует конфигурационный файл <code>package.json</code> в котором хранит модули проекта и модули разработки
в секциях: <code>dependencies</code> и <code>devDependencies</code> соответственно. Создать такой файл можно командой
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm init</div></pre></td></tr></table></figure></p>
<p>или
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm init -y</div></pre></td></tr></table></figure></p>
<p>если лень отвечать на вопросы.</p>
<h2 id="От-теории-к-практике"><a href="#От-теории-к-практике" class="headerlink" title="От теории к практике"></a>От теории к практике</h2><p>Сейчас мы создадим простую командную утилиту <code>gerp</code>, которая будет частично напоминать команду <code>grep</code> в Linux.
Создадим директорию <code>gerp</code>:
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">mkdir gerp</div><div class="line"><span class="built_in">cd</span> gerp</div></pre></td></tr></table></figure></p>
<p>и инициализируем ее
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm init -y</div></pre></td></tr></table></figure></p>
<p>команда создаст файл <code>package.json</code> и отобразит его содержимое
<figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"name"</span>: <span class="string">"gerp"</span>,</div><div class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</div><div class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</div><div class="line">  <span class="attr">"scripts"</span>: &#123;</div><div class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"keywords"</span>: [],</div><div class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</div><div class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Отредактируем этот файл, добавив секции <code>bin</code> и <code>patch-release</code> в секцию <code>script</code>:
<figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"name"</span>: <span class="string">"gerp"</span>,</div><div class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">  <span class="attr">"description"</span>: <span class="string">"gerp is a command-line utility for searching plain-text data sets for lines matching a regular expression"</span>,</div><div class="line">  <span class="attr">"bin"</span>: &#123;</div><div class="line">    <span class="attr">"gerp"</span>: <span class="string">"./index.js"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"scripts"</span>: &#123;</div><div class="line">    <span class="attr">"patch-release"</span>: <span class="string">"npm version patch &amp;&amp; npm publish"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"keywords"</span>: [],</div><div class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</div><div class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<ul>
<li>Секция <code>bin</code> указывает на то, что этот модуль будет выполняться из коммандной строки, с помощью команды <code>gerp</code>, а точкой входа в него
будет файл <code>index.js</code>.</li>
<li>Секция <code>patch-release</code> выполняет увелечение версии в файле <code>package.json</code> и пудликует модуль на <code>npm.org</code></li>
</ul>
<p>Так как команда <code>grep</code> в Linux подкрашивает совпадения, мы воспользуемся сторонним модулем <code>color</code> для этого:
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm i --save color</div></pre></td></tr></table></figure></p>
<p>Команда <code>i</code> псевдоним команды <code>install</code>. После выполнения этой команды, в файле <code>package.json</code> должна появиться секция:
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">"dependencies": &#123;</div><div class="line">  "colors": "^1.1.2"</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Теперь создаем файл <code>index.js</code> со следующим содержимым:
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// поключаем модуль цветов</span></div><div class="line"><span class="keyword">const</span> colors = <span class="built_in">require</span>(<span class="string">'colors'</span>);</div><div class="line"><span class="comment">// поключаем модуль построчного чтения</span></div><div class="line"><span class="keyword">const</span> readline = <span class="built_in">require</span>(<span class="string">'readline'</span>);</div><div class="line"><span class="comment">// создаем интерфейс для чтения стандартного потока ввода</span></div><div class="line"><span class="keyword">const</span> lineReader = readline.createInterface(&#123;</div><div class="line">    input: process.stdin</div><div class="line">&#125;);</div><div class="line"><span class="comment">// считываем агрумент командной строки для программы</span></div><div class="line"><span class="keyword">const</span> [expr] = process.argv.slice(<span class="number">2</span>);</div><div class="line"><span class="comment">// конструируем регулярное выражение из агрумента</span></div><div class="line"><span class="keyword">const</span> searchExpr = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`(<span class="subst">$&#123;expr&#125;</span>)`</span>,<span class="string">'g'</span>);</div><div class="line"></div><div class="line">lineReader.on(<span class="string">'line'</span>, line =&gt; &#123;</div><div class="line">    <span class="comment">// если строка проходит проверку регулярным выражением</span></div><div class="line">    <span class="keyword">if</span> (searchExpr.test(line)) &#123;</div><div class="line">        <span class="comment">// заменяем все найденные фрагменты покрашенными в красный и выводим эту строку</span></div><div class="line">        <span class="built_in">console</span>.log(line.replace(searchExpr, colors.red(<span class="string">'$1'</span>)));</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>Что бы протестировать программу перед публикацией, создадим файл <code>test.txt</code>:
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">test test test data</div><div class="line">data</div><div class="line">command</div><div class="line">line</div><div class="line">gerp</div></pre></td></tr></table></figure></p>
<p>и выполним команду на Linux:
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">cat test.txt|node index .e</div></pre></td></tr></table></figure></p>
<p>на Windows:
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="built_in">type</span> test.txt|node index .e</div></pre></td></tr></table></figure></p>
<p>Должен получиться следующий результат
<a href="https://potofcode.com/2016/08/21/hello-world-npm/result.png" target="_blank"><img src="https://potofcode.com/2016/08/21/hello-world-npm/result.png" alt="result.png" title=""></a></p>
<p>теперь можно публиковать наш модуль командой
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm run patch-release</div></pre></td></tr></table></figure></p>
<p>и спустя некоторое время, после первой публикации, когда модуль пройдет модерацию, его можно будет установить
командой
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm i -g gerp</div></pre></td></tr></table></figure></p>
<p>и использовать из командной строки для поиска текста.</p>
</div><div class="post-footer"><div class="row"><ul class="post-share col-lg-6 col-md-6 col-sm-6 col-xs-12"><li><a href="https://www.facebook.com/sharer/sharer.php?app_id=778520525558698&amp;u=https%3A%2F%2Fpotofcode.com%2F2016%2F08%2F21%2Fhello-world-npm%2F&amp;t=Hello%20World.%20NPM&amp;display=popup&amp;ref=plugin&amp;src=potofcode" target="_share_fb" class="btn socicon socicon-facebook">b</a></li><li><a href="http://vk.com/share.php?url=https%3A%2F%2Fpotofcode.com%2F2016%2F08%2F21%2Fhello-world-npm%2F&amp;title=Hello%20World.%20NPM&amp;description=Hello%20World.%20%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D1%85%20%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B5%D0%B9%20%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D0%B0%20%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%B9%20NPM%20%D0%B4%D0%BB%D1%8F%20node%20js%20%D0%B8%20%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%20%D0%BA%D0%B0%D0%BA%20%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C%20%D1%81%D0%B2%D0%BE%D0%B9%20NPM%20%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C&amp;image=https://potofcode.com/2016/08/21/hello-world-npm/npm.png" target="_share_vk" class="btn socicon socicon-vkontakte">;</a></li><li><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fpotofcode.com%2F2016%2F08%2F21%2Fhello-world-npm%2F&amp;title=Hello%20World.%20NPM&amp;summary=Hello%20World.%20%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D1%85%20%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B5%D0%B9%20%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D0%B0%20%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%B9%20NPM%20%D0%B4%D0%BB%D1%8F%20node%20js%20%D0%B8%20%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%20%D0%BA%D0%B0%D0%BA%20%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C%20%D1%81%D0%B2%D0%BE%D0%B9%20NPM%20%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C&amp;source=https://potofcode.com" target="_share_ln" class="btn socicon socicon-linkedin">j</a></li><li><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fpotofcode.com%2F2016%2F08%2F21%2Fhello-world-npm%2F&amp;text=Hello%20World.%20NPM&amp;via=potofcode&amp;hashtags=potofcode" target="_share_tw" class="btn socicon socicon-twitter">a</a></li><li><a href="https://plus.google.com/share?url=https%3A%2F%2Fpotofcode.com%2F2016%2F08%2F21%2Fhello-world-npm%2F" target="_share_go" class="btn socicon socicon-google">c</a></li></ul></div></div><div id="disqus_thread"></div></div></div><div class="col-lg-3 col-md-12 col-sm-12 row"><aside class="shadow-4dp content sidebar col-lg-12 col-md-5 col-sm-5 panel panel-primary"><div class="sidebar-title panel-heading">недавние</div><ul class="panel-body no-style"><li><a href="/2016/08/21/hello-world-npm/" class="recent-post-title">Hello World. NPM</a></li><li><a href="/2016/08/19/javascript-react-snippets/" class="recent-post-title">JavaScript. React Snippets компоненты If, EventListener, Composer, Sequencer</a></li><li><a href="/2016/08/15/learn-programming-intro-numeral-systems/" class="recent-post-title">Введение в программирование. Система счисления, биты и байты</a></li><li><a href="/2016/04/08/article-node-simple-mvc-app/" class="recent-post-title">NodeJS. Простое современное MVC приложение на Node JS</a></li><li><a href="/2016/03/14/learn-node-chakracore/" class="recent-post-title">NodeJS. Собираем NodeJS с движком Chakra от Microsoft</a></li><li><a href="/2016/03/13/hello-world-node-js/" class="recent-post-title">Hello World. Node JS</a></li><li><a href="/2016/03/13/games-build-rust-server/" class="recent-post-title">Настраиваем свой Rust сервер</a></li><li><a href="/2016/03/12/article-build-environment-p1/" class="recent-post-title">Настройка среды разработки. Часть 1</a></li></ul></aside><div class="col-md-2 col-sm-2 visible-md-block visible-sm-block"></div><aside class="content sidebar col-lg-12 col-md-5 col-sm-5"><div class="panel-body"><ins style="display:inline-block;width:120px;height:240px" data-ad-client="ca-pub-3437520002188474" data-ad-slot="8522251540" class="adsbygoogle"></ins><script>(window.adsbygoogle = window.adsbygoogle || []).push({});</script></div></aside><aside class="shadow-4dp content sidebar col-lg-12 col-md-5 col-sm-5 panel panel-primary"><div class="sidebar-title panel-heading">тэги</div><ul class="panel-body no-style"><li><a href="/tags/chakracore/">[1] chakracore</a></li><li><a href="/tags/express/">[1] express</a></li><li><a href="/tags/hello-world/">[1] hello world</a></li><li><a href="/tags/javascript/">[4] javascript</a></li><li><a href="/tags/linux/">[1] linux</a></li><li><a href="/tags/mvc/">[1] mvc</a></li><li><a href="/tags/node-js/">[3] node js</a></li><li><a href="/tags/react/">[1] react</a></li><li><a href="/tags/steam/">[1] steam</a></li><li><a href="/tags/windows/">[1] windows</a></li><li><a href="/tags/программирование/">[4] программирование</a></li><li><a href="/tags/среда-разработки/">[1] среда разработки</a></li></ul></aside><div class="col-md-2 col-sm-2 visible-md-block visible-sm-block"></div><aside class="shadow-4dp content sidebar col-lg-12 col-md-5 col-sm-5 panel panel-primary"><div class="sidebar-title panel-heading">категории</div><ul class="panel-body no-style"><li><a href="/categories/игры/">[1] Игры</a></li><li><a href="/categories/статьи/">[3] Статьи</a></li><li><a href="/categories/уроки/">[3] Уроки</a></li></ul></aside></div></div></main><footer class="footer"><div class="container"><div class="row"><img src="/images/logo-potofcode.svg" width="200" class="footer-column col-lg-3 col-md-6 col-sm-6 col-xs-12"><div class="footer-column col-lg-3 col-md-6 col-sm-6 col-xs-12">&nbsp;</div><div class="footer-column col-lg-3 col-md-6 col-sm-6 col-xs-12">&nbsp;</div><div class="footer-column col-lg-3 col-md-6 col-sm-6 col-xs-12">&nbsp;</div></div></div></footer><script src="/vendor/bootstrap/js/jquery.min.js" async></script><script src="/vendor/bootstrap/js/bootstrap.min.js" async></script><script>(function() {
var d = document, s = d.createElement('script');
s.src = '//potofcode.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-60230177-1', 'auto');
ga('send', 'pageview');</script><script type="text/javascript">(function (d, w, c) {
  (w[c] = w[c] || []).push(function () {
    try {
      w.yaCounter28756646 = new Ya.Metrika({
        id: 28756646,
        clickmap: true,
        trackLinks: true,
        accurateTrackBounce: true,
        webvisor: true,
        trackHash: true
      });
    } catch (e) {
    }
  });

  var n = d.getElementsByTagName('script')[0],
          s = d.createElement('script'),
          f = function () {
            n.parentNode.insertBefore(s, n);
          };
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'https://mc.yandex.ru/metrika/watch.js';

  if (w.opera == '[object Opera]') {
    d.addEventListener('DOMContentLoaded', f, false);
  } else {
    f();
  }
})(document, window, 'yandex_metrika_callbacks');</script></body></html>