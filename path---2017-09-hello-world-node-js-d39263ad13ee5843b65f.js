webpackJsonp([0xbeaf506836e9],{409:function(n,s){n.exports={pathContext:{post:{images:{heroPreviewLG:{src:"/static/b36310abf764c91568d26a134e70d9fa-d5c01.png"},heroPreviewMD:{src:"/static/b36310abf764c91568d26a134e70d9fa-62329.png"},heroPreviewSM:{src:"/static/b36310abf764c91568d26a134e70d9fa-f3214.png"},heroPreviewXS:{src:"/static/b36310abf764c91568d26a134e70d9fa-0e0e6.png"},mediumPreview:{src:"/static/b36310abf764c91568d26a134e70d9fa-eb3b3.png"},smallPreview:{src:"/static/b36310abf764c91568d26a134e70d9fa-cc4fc.png"}},excerpt:"Ave $USER! Node.JS - это платформа для выполнения JavaScript основаная на движке V8. \nВ этой статье мы установим node.js и…",id:"/Users/ivan/projects/gatsby-blog/src/pages/2017/09/hello-world-node-js/index.md absPath of file >>> MarkdownRemark",slug:"/2017/09/hello-world-node-js",permalink:"https://potofcode.com/2017/09/hello-world-node-js/",html:'<p>Ave $USER!</p>\n<p>Node.JS - это платформа для выполнения JavaScript основаная на движке V8.\nВ этой статье мы установим node.js и напишем простой веб-сервис,\nкоторый будет показывать топ 10 новостей с Hacker News.</p>\n<h3>Установка</h3>\n<h4>Windows</h4>\n<p>Для установки нужно перейти на сайт <a href="https://nodejs.org/en/">nodejs.org</a> скачать и установить.</p>\n<blockquote>\n<p><strong>Примечание:</strong>\nЕсли вы используете <code>Visual Studio 2015</code>, установите переменную окружения <code>GYP_MSVS_VERSION=2015</code>, что бы собирать модули Node JS с помощью <code>Visual Studio 2015</code></p>\n</blockquote>\n<h4>Ubuntu</h4>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code>curl -sL https://deb.nodesource.com/setup_8.x <span class="token operator">|</span> <span class="token function">sudo</span> -E <span class="token function">bash</span> -\n<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y nodejs\n</code></pre>\n      </div></body></html>\n<h4>MacOS</h4>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code>brew <span class="token function">install</span> node\n</code></pre>\n      </div></body></html>\n<h3>Проверка</h3>\n<p>Вместе с node.js будет установлен менеджер пакетов <code>npm</code>. Что бы проверить версию <code>node</code> и <code>npm</code> введем команды</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code>node -v\n<span class="token function">npm</span> -v\n</code></pre>\n      </div></body></html>\n<p>На момент написания статьи я использую <code>node</code> версии <code>8.4.0</code>. Давайте запустим простейший http сервер на node.js.</p>\n<h3>Создание проекта</h3>\n<p>У меня все проекты находятся по пути <code>~/projects/JavaScript</code>.\nОткроем консоль, создадим директорию для нашего проекта <code>hacker-blog</code> и перейдем в нее.\nСначала нам нужно инициализировать проект командой <code>npm init -y</code>.\nВ результате должен появиться файл <code>package.json</code>. Откроем его и изменим секцию <code>scripts</code>:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-json"><code>...\n  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon index.js&quot;</span>\n  <span class="token punctuation">}</span>\n...\n</code></pre>\n      </div></body></html>\n<p>Далее установим необходимые модули с помощью следующей команды:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save express isomorphic-fetch nodemon\n</code></pre>\n      </div></body></html>\n<p>Немного о модулях:</p>\n<ul>\n<li>express - <a href="https://expressjs.com/">мини веб-фреймворк</a>, с очень удобным API</li>\n<li>isomorphic-fetch - модуль позволяет использовать <a href="https://developer.mozilla.org/ru/docs/Web/API/Fetch_API">Fetch API</a> на стороне сервера</li>\n<li>nodemon - модуль позволяет автоматически перезапускать скрипт при его изменении </li>\n</ul>\n<p>Сначала создадим шаблон для нашего сайта в обычном <code>index.html</code> файле</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Top 10 Hacker News stories<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">\n    <span class="token selector">html, body</span> <span class="token punctuation">{</span>\n      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n      <span class="token property">min-height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n      <span class="token property">background-color</span><span class="token punctuation">:</span> #f6f6ef<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token selector">.title</span> <span class="token punctuation">{</span>\n      <span class="token property">background-color</span><span class="token punctuation">:</span> #f60<span class="token punctuation">;</span>\n      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>\n      <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token selector">.stories</span> <span class="token punctuation">{</span>\n      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>\n      <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token selector">.story</span> <span class="token punctuation">{</span>\n      <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n      <span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token selector">.story__details</span> <span class="token punctuation">{</span>\n      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>\n      <span class="token property">color</span><span class="token punctuation">:</span> #888\n    <span class="token punctuation">}</span>\n  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Top 10 Hacker News<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stories<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">&lt;!--STORIES--&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n      </div></body></html>\n<p>Здесь все просто, в списке есть комментарий <code>&#x3C;!--STORIES--></code>, который будем использовать как метку, куда поместить наши новости.\nСтили можете изменить на свой вкус и цвет.</p>\n<p>Теперь создадим файл <code>service.js</code> где будут функции вызова API Hacker News:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;isomorphic-fetch&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment" spellcheck="true">// &#x422;.&#x43A;. &#x443; &#x43D;&#x430;&#x441; &#x443;&#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x43B;&#x435;&#x43D; node 8+ &#x442;&#x43E; &#x43C;&#x43E;&#x436;&#x435;&#x43C; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C; async/await, </span>\n<span class="token comment" spellcheck="true">// &#x447;&#x442;&#x43E; &#x434;&#x435;&#x43B;&#x430;&#x435;&#x442; &#x43A;&#x43E;&#x434; &#x431;&#x43E;&#x43B;&#x435;&#x435; &#x447;&#x438;&#x442;&#x430;&#x431;&#x435;&#x43B;&#x44C;&#x43D;&#x44B;&#x43C; &#x438; &#x43B;&#x438;&#x43D;&#x435;&#x439;&#x43D;&#x44B;&#x43C;, &#x43D;&#x435;&#x436;&#x435;&#x43B;&#x438; &#x43B;&#x430;&#x43F;&#x448;&#x430; &#x438;&#x437; `Promise.then`.</span>\n\n<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getTopStoriesIds</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n<span class="token comment" spellcheck="true">// &#x417;&#x434;&#x435;&#x441;&#x44C; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x435;&#x442;&#x441;&#x44F; URL `https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty`,</span>\n<span class="token comment" spellcheck="true">// &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x432;&#x43E;&#x437;&#x432;&#x440;&#x430;&#x449;&#x430;&#x435;&#x442; &#x43C;&#x430;&#x441;&#x441;&#x438;&#x432; &#x438;&#x437; &#x447;&#x438;&#x441;&#x43B;&#x43E;&#x432;&#x44B;&#x445; &#x437;&#x43D;&#x430;&#x447;&#x435;&#x43D;&#x438;&#x439; &#x442;&#x43E;&#x43F; &#x43D;&#x43E;&#x432;&#x43E;&#x441;&#x442;&#x435;&#x439;, &#x433;&#x434;&#x435; &#x43C;&#x44B; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x430;&#x43C; `count` &#x43F;&#x435;&#x440;&#x432;&#x44B;&#x445; &#x437;&#x43D;&#x430;&#x447;&#x435;&#x43D;&#x438;&#x439;.</span>\n\n  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> ids<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchTopStories</span><span class="token punctuation">(</span>ids<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n<span class="token comment" spellcheck="true">// &#x417;&#x434;&#x435;&#x441;&#x44C; &#x43C;&#x44B; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x435;&#x43C; &#x438;&#x43D;&#x444;&#x43E;&#x440;&#x43C;&#x430;&#x446;&#x438;&#x44E; &#x43E; &#x43A;&#x430;&#x436;&#x434;&#x43E;&#x439; &#x43D;&#x43E;&#x432;&#x43E;&#x441;&#x442;&#x438; &#x43F;&#x43E; &#x435;&#x435; &#x43D;&#x43E;&#x43C;&#x435;&#x440;&#x443; </span>\n<span class="token comment" spellcheck="true">// &#x447;&#x435;&#x440;&#x435;&#x437; URL `https://hacker-news.firebaseio.com/v0/item/${id}.json`.</span>\n\n  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>ids<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">async</span> id <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`https://hacker-news.firebaseio.com/v0/item/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  getTopStoriesIds<span class="token punctuation">,</span>\n  fetchTopStories<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n      </div></body></html>\n<p>И наконец создадим файл <code>index.js</code>, это и будет наш сервер:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token comment" spellcheck="true">// &#x418;&#x43C;&#x43F;&#x43E;&#x440;&#x442;&#x438;&#x440;&#x443;&#x435;&#x43C; &#x443;&#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x43B;&#x435;&#x43D;&#x43D;&#x44B;&#x435; &#x43C;&#x43E;&#x434;&#x443;&#x43B;&#x438;</span>\n<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;fs&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> Express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;express&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">Express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// &#x418;&#x43C;&#x43F;&#x43E;&#x440;&#x442;&#x438;&#x440;&#x443;&#x435;&#x43C; &#x43D;&#x430;&#x448; &#x441;&#x435;&#x440;&#x432;&#x438;&#x441;</span>\n<span class="token keyword">const</span> <span class="token punctuation">{</span> getTopStoriesIds<span class="token punctuation">,</span> fetchTopStories <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;./services&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// &#x417;&#x430;&#x43F;&#x438;&#x441;&#x44B;&#x432;&#x430;&#x435;&#x43C; &#x448;&#x430;&#x431;&#x43B;&#x43E;&#x43D; &#x432; &#x441;&#x442;&#x440;&#x43E;&#x43A;&#x443;</span>\n<span class="token keyword">const</span> template <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">&apos;./index.html&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;utf8&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// &#x424;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x44F; &#x434;&#x43B;&#x44F; &#x43E;&#x442;&#x440;&#x438;&#x441;&#x43E;&#x432;&#x43A;&#x438; &#x43D;&#x43E;&#x432;&#x43E;&#x441;&#x442;&#x438;</span>\n<span class="token keyword">function</span> <span class="token function">renderStory</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">,</span> title<span class="token punctuation">,</span> by<span class="token punctuation">,</span> time <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`\n&lt;li class=&quot;story&quot;&gt;\n  &lt;a href=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; class=&quot;story&quot; target=&quot;_blank&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/a&gt;\n  &lt;div class=&quot;story__details&quot;&gt;by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>by<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>time <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;\n&lt;/li&gt;\n`</span></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment" spellcheck="true">// &#x417;&#x430;&#x434;&#x430;&#x435;&#x43C; &#x43E;&#x431;&#x440;&#x430;&#x431;&#x430;&#x442;&#x447;&#x438;&#x43A; HTTP &#x437;&#x430;&#x43F;&#x440;&#x43E;&#x441;&#x430;</span>\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&apos;/&apos;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">try</span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// &#x41E;&#x436;&#x438;&#x434;&#x430;&#x435;&#x43C; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x435;&#x43D;&#x438;&#x435; &#x442;&#x43E;&#x43F; 10 &#x43D;&#x43E;&#x432;&#x43E;&#x441;&#x442;&#x435;&#x439;</span>\n    <span class="token keyword">const</span> topIds <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getTopStoriesIds</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment" spellcheck="true">// &#x41E;&#x436;&#x438;&#x434;&#x430;&#x435;&#x43C; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x435;&#x43D;&#x438;&#x435; &#x438;&#x43D;&#x444;&#x43E;&#x440;&#x43C;&#x430;&#x446;&#x438;&#x438; &#x43E; &#x43D;&#x43E;&#x432;&#x43E;&#x441;&#x442;&#x44F;&#x445;</span>\n    <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchTopStories</span><span class="token punctuation">(</span>topIds<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment" spellcheck="true">// &#x41E;&#x442;&#x440;&#x438;&#x441;&#x43E;&#x432;&#x44B;&#x432;&#x430;&#x435;&#x43C; &#x438;&#x445; &#x432; &#x441;&#x442;&#x440;&#x43E;&#x43A;&#x438;</span>\n    <span class="token keyword">const</span> stories <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>renderStory<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment" spellcheck="true">// &#x417;&#x430;&#x434;&#x430;&#x435;&#x43C; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x430;&#x43A;&#x442;&#x443;&#x430;&#x43B;&#x44C;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x437;&#x430;&#x43F;&#x440;&#x43E;&#x441;&#x430;</span>\n    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&apos;Cache-Control&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;public, max-age=100&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&apos;Expires&apos;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    \n    <span class="token comment" spellcheck="true">// &#x417;&#x430;&#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x43C; &#x43D;&#x430;&#x448;&#x443; &#x43C;&#x435;&#x442;&#x43A;&#x443; &#x43D;&#x430; &#x441;&#x442;&#x440;&#x43E;&#x43A;&#x438; &#x438; &#x43E;&#x442;&#x43F;&#x440;&#x430;&#x432;&#x43B;&#x44F;&#x435;&#x43C; &#x43E;&#x442;&#x432;&#x435;&#x442;</span>\n    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>template<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&apos;&lt;!--STORIES--&gt;&apos;</span><span class="token punctuation">,</span> stories<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&apos;\\n&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    \n  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// &#x41E;&#x431;&#x440;&#x430;&#x431;&#x430;&#x442;&#x44B;&#x432;&#x430;&#x435;&#x43C; &#x43E;&#x448;&#x438;&#x431;&#x43A;&#x443;, &#x435;&#x441;&#x43B;&#x438; &#x447;&#x442;&#x43E;-&#x442;&#x43E; &#x43D;&#x435; &#x442;&#x430;&#x43A;</span>\n    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&apos;Something broke!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>NODE_PORT <span class="token operator">||</span> <span class="token number">9191</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// &#x417;&#x430;&#x43F;&#x443;&#x441;&#x43A;&#x430;&#x435;&#x43C; &#x441;&#x435;&#x440;&#x432;&#x435;&#x440;</span>\napp<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Served from http://localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  \n</code></pre>\n      </div></body></html>\n<h3>Запуск</h3>\n<p>Теперь запустим наш сервер командой:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">npm</span> start\n</code></pre>\n      </div></body></html>\n<p>Перейдя по адресу <a href="http://127.0.0.1:9191">127.0.0.1:9191</a> мы увидим нашу страницу:</p>\n<html><head></head><body><div class="gallery">\n  \n  <a class="gatsby-resp-image-link" href="/static/905384fc0b7743bab771ef2893a36f3d-56888.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; z-index: 1; max-width: 980px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAAA7ElEQVQ4y+2RQW7CMBBFfdYcqKoqcYDehCULCAI7EJMU6pDINhapQCVddPHrGSR2SCRdVeri68uW/fQ8Ft+vCe6lHCVYPCeYPl179ZLgbXT/PEWcygm8GsPJMXdnZviqUk4X82nS2/qRiBBqbDYKeb5EUWRomi0ul5bTdR+9I6x9R5bNodScW8oU6/UCh8N+GJAM81xGyBJluWLLoXYM9L6KVjM2I2Bdb+H9HrRvrUEITX9DrRUbai2j4RXqnGEwdR9jQRY0O/qU3U7DmOIGcq6Ks6y5HwaezwFkSU9rW4vj0f5uhkMv/gP/EPAH51Fgl8eicBEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="result" title="" src="/static/905384fc0b7743bab771ef2893a36f3d-70dbf.png" srcset="/static/905384fc0b7743bab771ef2893a36f3d-5dcff.png 245w,\n/static/905384fc0b7743bab771ef2893a36f3d-4d433.png 490w,\n/static/905384fc0b7743bab771ef2893a36f3d-70dbf.png 980w,\n/static/905384fc0b7743bab771ef2893a36f3d-56888.png 1024w" sizes="(max-width: 980px) 100vw, 980px">\n    </span>\n  </span>\n  \n  </a>\n    \n</div></body></html>\n<p><html><head></head><body><a href="https://github.com/potofcode/hacker-blog.git" target="_github"></a></body></html>Исходники<html><head></head><body></body></html></p>',color:"rgba(70, 72, 62, 0.9)",title:"Hello World. Простейший Node JS Hacker News сервер",description:"Hello World. Установка и запуск простейшего приложения на Node JS показывающее новости с Hacker News",
category:"кодинг",tags:["hello world","node js"],date:"2017-09-01T00:00:00.000Z",type:null},recommended:[{images:{heroPreviewLG:{src:"/static/76e224ba97d2ae7c071bf8b1823e59db-d5c01.png"},heroPreviewMD:{src:"/static/76e224ba97d2ae7c071bf8b1823e59db-62329.png"},heroPreviewSM:{src:"/static/76e224ba97d2ae7c071bf8b1823e59db-f3214.png"},heroPreviewXS:{src:"/static/76e224ba97d2ae7c071bf8b1823e59db-0e0e6.png"},mediumPreview:{src:"/static/76e224ba97d2ae7c071bf8b1823e59db-eb3b3.png"},smallPreview:{src:"/static/76e224ba97d2ae7c071bf8b1823e59db-cc4fc.png"}},excerpt:"Ave $USER! В этом Hello World я расскажу как использовать инструмент разработки Gulp в своих проектах.\nРассмотрим установку…",id:"/Users/ivan/projects/gatsby-blog/src/pages/2016/09/hello-world-gulp/index.md absPath of file >>> MarkdownRemark",slug:"/2016/09/hello-world-gulp",permalink:"https://potofcode.com/2016/09/hello-world-gulp/",html:'<p>Ave $USER!</p>\n<p>В этом Hello World я расскажу как использовать инструмент разработки Gulp в своих проектах.\nРассмотрим установку, настройку и примеры использования. Хочешь разобраться с Gulp, читай далее.</p>\n<h3>Для чего нужен Gulp?</h3>\n<p>Gulp - это планировщик задач. Что это значит?\nНапример, у нас есть директория <code>src</code> где ведется разработка проекта и директория <code>build</code>, куда проект собирается и\nнеобходимо выполнить следующие задачи при сборке проекта:</p>\n<ul>\n<li>очистить директорию сборки</li>\n<li>скопировать все <code>css</code> файлы, кроме <code>*.dev.css</code>, в <code>css</code> директорию сборки, после ее очистки</li>\n<li>скопировать все <code>js</code> файлы, кроме <code>*.dev.js</code>, в <code>js</code> директорию сборки, после ее очистки</li>\n<li>скопировать все картинки из директории <code>images</code>, в <code>images</code> директорию сборки, после ее очистки</li>\n<li>скопировать все <code>html</code>, в корень директории сборки, после ее очистки</li>\n</ul>\n<p>Все эти задачи можно сконфигурировать для Gulp в очень удобной и понятной форме и выполнить их в заданной последовательности.</p>\n<h3>Установка и настройка Gulp</h3>\n<p>Что бы установить, настроить, а позже исползовать Gulp, необходимо установить его глобально</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">npm</span> i -g gulp\n</code></pre>\n      </div></body></html>\n<p>и локально в проект</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">npm</span> i --save-dev gulp\n</code></pre>\n      </div></body></html>\n<p>Gulp использует конфигурационный файл <code>gulpfile.js</code>, вот его примерный шаблон</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;gulp&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;task-1&apos;</span><span class="token punctuation">,</span> completeCallback <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// Some task-1 code</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">//await while task-1 finished</span>\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;task-2&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&apos;task-1&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> completeCallback <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// Some task-2 code</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;default&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&apos;task-1&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;task-2&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div></body></html>\n<p>Для выполнения конкретной задачи, необходимо выполнить команду:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code>gulp <span class="token punctuation">[</span>task-name<span class="token punctuation">]</span>\n</code></pre>\n      </div></body></html>\n<p>Для выполнения задачи по умолчанию, [task-name] не указывается.</p>\n<h3>От теории к практике</h3>\n<p>Давайте рассмотрим на примере задач, которые я привел выше. Для этого установим дополнительный модуль,\nдля удаления файлов по glob маске</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">npm</span> i --save-dev del\n</code></pre>\n      </div></body></html>\n<p>Конфигурационный файл <code>gulpfile.js</code> примет следующий вид</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;gulp&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;del&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// Build directory clean task</span>\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;clean&apos;</span><span class="token punctuation">,</span> cb <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token string">&apos;./build&apos;</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment" spellcheck="true">// Copy css files to css build directory except *.dev.css after clean task</span>\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;css-copy&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&apos;clean&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;./src/css/**/*.css&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;!./src/css/**/*.dev.css&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&apos;./build/css&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment" spellcheck="true">// Copy js files to js build directory except *.dev.js after clean task</span>\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;js-copy&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&apos;clean&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;./src/js/**/*.js&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;!./src/css/**/*.dev.js&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&apos;./build/js&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment" spellcheck="true">// Copy all files from images directory to images build directory after clean task</span>\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;images-copy&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&apos;clean&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;./src/images/*.*&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&apos;./build/images&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment" spellcheck="true">// Copy all html files to html build directory after clean task</span>\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;html-copy&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&apos;clean&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;./src/*.html&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&apos;./build&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment" spellcheck="true">// Default task for execute all tasks in single one</span>\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&apos;default&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&apos;clean&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;css-copy&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;js-copy&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;images-copy&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;html-copy&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div></body></html>\n<p>Теперь запустив команду</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp\n</code></pre>\n      </div></body></html>\n<p>проект будет полностью собран в директорию сборки.</p>',color:"rgba(150, 61, 60, 0.8)",title:"Hello World. Gulp",description:"Hello World. Gulp",category:"кодинг",tags:["hello world","javascript","node js","gulp"],date:"2016-09-11T00:00:00.000Z",type:null},{images:{heroPreviewLG:{src:"/static/f618e2623a2a113b1b0427aab565f9ac-d5c01.png"},heroPreviewMD:{src:"/static/f618e2623a2a113b1b0427aab565f9ac-62329.png"},heroPreviewSM:{src:"/static/f618e2623a2a113b1b0427aab565f9ac-f3214.png"},heroPreviewXS:{src:"/static/f618e2623a2a113b1b0427aab565f9ac-0e0e6.png"},mediumPreview:{src:"/static/f618e2623a2a113b1b0427aab565f9ac-eb3b3.png"},smallPreview:{src:"/static/f618e2623a2a113b1b0427aab565f9ac-cc4fc.png"}},excerpt:"Ave $USER! Я уже писал о том  как бесплатно захостить статический сайт на GitHub с Custom Domain и HTTPS . В этот раз я расскажу…",id:"/Users/ivan/projects/gatsby-blog/src/pages/2016/10/article-free-static-blog-with-hexo/index.md absPath of file >>> MarkdownRemark",slug:"/2016/10/article-free-static-blog-with-hexo",permalink:"https://potofcode.com/2016/10/article-free-static-blog-with-hexo/",html:'<p>Ave $USER!</p>\n<p>Я уже писал о том <a href="/2016/09/hello-world-github-pages/">как бесплатно захостить статический сайт на GitHub с Custom Domain и HTTPS</a>.</p>\n<p>В этот раз я расскажу немного о преимуществах статических сайтов и как создать свой статический блог, подключить к нему сервис коментариев, кнопки соц. сетей, который можно будет хостить на GitHub.</p>\n<p>Действительно, статический сайт, это очень удобно, просто и практично, различные динамические данные можно поключить через сторонние сервисы,\nоставив только статику, которую намного проще хостить и поддерживать, например на том же Github.</p>\n<h2>Содержание:</h2>\n<ol class="contents">\n  <li><a href="#Почему статический сайт?">Почему статический сайт?</a></li>\n  <li><a href="#Что же такое Hexo?">Что же такое Hexo?</a></li>\n  <li><a href="#Установка и настройка">Установка и настройка</a></li>\n  <li><a href="#Первый пост">Первый пост</a></li>\n</ol>\n<html><head></head><body><h3><a name="&#x41F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x441;&#x442;&#x430;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x439; &#x441;&#x430;&#x439;&#x442;?">&#x41F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x441;&#x442;&#x430;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x439; &#x441;&#x430;&#x439;&#x442;?</a></h3></body></html>\n<p>Здесь можно много спорить о статике и динамике, но существуют неоспоримые два преимущества статики перед динамикой:</p>\n<ol>\n<li>Скорость - даже кешированая динамическая страница грузится первый раз ( для кэша) медленнее. А закэшировав ее необходимо отслеживать ее консистентность, т.к.\nизмененные данные, могут не отобразиться, т.к. не обновился кэш.</li>\n<li>Безопасность - для создания сайта используются различные готовые решения, такие как WordPress и зачастую содержат ошибки, которые открывают двери злоумышленникам.\nНе верите? Вбейте в гугл <code>уязвимости wordpress</code>. И это не говоря о уязвимостях самих языков программирования, таких как PHP, Ruby и прочие.</li>\n</ol>\n<p>Единственное неудобство статики связано с генерацией страниц и загрузкой их на сервер при каждом обновлении контента, но этот процесс можно легко автоматизировать,\nа все динамические данные легко работают со сторонними сервисами, например интеграция социальных сетей типа фейсбука или вконтакте, все равно без них сейчас никак =)</p>\n<html><head></head><body><h3><a name="&#x427;&#x442;&#x43E; &#x436;&#x435; &#x442;&#x430;&#x43A;&#x43E;&#x435; Hexo?">&#x427;&#x442;&#x43E; &#x436;&#x435; &#x442;&#x430;&#x43A;&#x43E;&#x435; Hexo?</a></h3></body></html>\n<p>Hexo - это фреймворк написанный на node js для генерации статических блогов, который поддерживает несколько языков разметки (в том числе Markdown),\nимеет <a href="https://hexo.io/plugins/">множество плагинов</a> и <a href="https://hexo.io/themes/">там оформления</a>.\nТак же не составит труда создать свою тему с минимальными знаниями верстки.\nВсю информацию можно найти <a href="https://hexo.io/">на официальном сайте HEXO</a></p>\n<html><head></head><body><h3><a name="&#x423;&#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x43A;&#x430; &#x438; &#x43D;&#x430;&#x441;&#x442;&#x440;&#x43E;&#x439;&#x43A;&#x430;">&#x423;&#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x43A;&#x430; &#x438; &#x43D;&#x430;&#x441;&#x442;&#x440;&#x43E;&#x439;&#x43A;&#x430;</a></h3></body></html>\n<p>Для начала нам понадобится установить Node JS и npm, про установку, можно <a href="/2017/09/hello-world-node-js/">прочесть здесь</a>\nТак же понадобиться аккаунт на Github с именем вашего блога, например <code>my-cool-blog</code>, в нем необходимо создать репозиторий <code>my-cool-blog.github.io</code>,\nгде будет храниться наш сайт, подробнее можно <a href="/2016/09/hello-world-github-pages/">прочесть здесь</a></p>\n<p>После того как Node JS и npm установлены, необходимо установить HEXO, создадать проект и настроить его. Запускаем комндную строку и выполняем:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">npm</span> i -g hexo-cli\nhexo init my-cool-blog\n<span class="token function">cd</span> my-cool-blog\n<span class="token function">npm</span> i\n</code></pre>\n      </div></body></html>\n<p>После недолгого ожидания у вас должна появится готовая директория с проектом.</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-none"><code>.\n&#x251C;&#x2500;&#x2500; _config.yml\n&#x251C;&#x2500;&#x2500; package.json\n&#x251C;&#x2500;&#x2500; scaffolds\n&#x251C;&#x2500;&#x2500; source\n|   &#x251C;&#x2500;&#x2500; _drafts\n|   &#x2514;&#x2500;&#x2500; _posts\n&#x2514;&#x2500;&#x2500; themes</code></pre>\n      </div></body></html>\n<ul>\n<li><code>_config.yml</code> - конфигурационный файл</li>\n<li><code>scaffolds</code>   - директория с шаблонами страниц, поумолчанию используется <code>post</code></li>\n<li><code>source</code>      - исходные файлы вашего блога. Здесь можно хранить картинки, стили, скрипты. Файлы и директории начинающиеся с <code>_</code> будут игнорироваться.\nВ <code>_posts</code> будут лежать опубликованный контент, а в <code>_drafts</code> черновики</li>\n<li><code>themes</code>      - темы оформления</li>\n</ul>\n<p>Также в нее будет установлена тема оформлению поумолчанию <code>landscape</code>.\nТеперь добавим несколько очень нужных плагинов. Это <code>sitemap.xml</code> генератор, поддержка шаблонизатора <code>jade</code> (сейчас он называется <code>pug</code>) и препроцессор <code>stylus</code>:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">npm</span> i --save hexo-generator-seo-friendly-sitemap hexo-renderer-jade hexo-renderer-stylus\n</code></pre>\n      </div></body></html>\n<p>Все необходимые модули установлены, теперь приступим к конфигурации. Откроем <code>_config.yml</code> и добавим/изменим следующие строки:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-yaml"><code><span class="token key atrule">sitemap</span><span class="token punctuation">:</span>\n    <span class="token key atrule">path</span><span class="token punctuation">:</span> sitemap.xml <span class="token comment" spellcheck="true"># &#x41F;&#x443;&#x442;&#x44C; &#x43A; sitemap.xml</span>\n\n<span class="token key atrule">marked</span><span class="token punctuation">:</span>\n  <span class="token key atrule">gfm</span><span class="token punctuation">:</span> <span class="token boolean important">true           </span><span class="token comment" spellcheck="true"># &#x41F;&#x43E;&#x434;&#x434;&#x435;&#x440;&#x436;&#x43A;&#x430; markdown</span>\n  <span class="token key atrule">breaks</span><span class="token punctuation">:</span> <span class="token boolean important">false       </span><span class="token comment" spellcheck="true"># &#x41E;&#x442;&#x43A;&#x43B;&#x44E;&#x447;&#x430;&#x435;&#x43C; &#x447;&#x443;&#x432;&#x441;&#x442;&#x432;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x43E;&#x441;&#x442;&#x44C; &#x43A; &#x440;&#x430;&#x437;&#x440;&#x44B;&#x432;&#x430;&#x43C; &#x441;&#x441;&#x442;&#x440;&#x43E;&#x43A;</span>\n\n<span class="token key atrule">skip_render</span><span class="token punctuation">:</span>          <span class="token comment" spellcheck="true"># &#x441;&#x435;&#x43A;&#x446;&#x438;&#x44F; &#x434;&#x43B;&#x44F; &#x438;&#x433;&#x43D;&#x43E;&#x440;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; &#x444;&#x430;&#x439;&#x43B;&#x43E;&#x432; &#x432; source &#x434;&#x438;&#x440;&#x435;&#x43A;&#x442;&#x43E;&#x440;&#x438;&#x438;</span>\n  <span class="token punctuation">-</span> &apos;code/**/*&apos;       <span class="token comment" spellcheck="true"># blob &#x43C;&#x430;&#x441;&#x43A;&#x430; &#x434;&#x43B;&#x44F; &#x438;&#x433;&#x43D;&#x43E;&#x440;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; &#x43E;&#x431;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438; &#x444;&#x430;&#x439;&#x43B;&#x43E;&#x432;, &#x44F; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x44E; &#x44D;&#x442;&#x43E; &#x434;&#x43B;&#x44F; &#x434;&#x435;&#x43C;&#x43E;&#x43A;</span>\n\n<span class="token key atrule">new_post_name</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>year/<span class="token punctuation">:</span>month/<span class="token punctuation">:</span>title.md   <span class="token comment" spellcheck="true"># &#x43A;&#x430;&#x436;&#x434;&#x44B;&#x439; &#x43F;&#x43E;&#x441;&#x442; &#x431;&#x443;&#x434;&#x435;&#x442; &#x445;&#x440;&#x430;&#x43D;&#x438;&#x442;&#x44C;&#x441;&#x44F; &#x43F;&#x43E; &#x43F;&#x443;&#x442;&#x438; /&#x433;&#x43E;&#x434;/&#x43C;&#x435;&#x441;&#x44F;&#x446;/&#x43D;&#x430;&#x437;&#x432;&#x430;&#x43D;&#x438;&#x435;-&#x43F;&#x43E;&#x441;&#x442;&#x430;.md</span>\n\n<span class="token key atrule">disqus_shortname</span><span class="token punctuation">:</span> mycoolblog            <span class="token comment" spellcheck="true"># &#x43D;&#x435;&#x43E;&#x431;&#x445;&#x43E;&#x434;&#x438;&#x43C;&#x43E; &#x437;&#x430;&#x440;&#x435;&#x433;&#x438;&#x441;&#x442;&#x440;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x43D;&#x430; disqus.com &#x438; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x442;&#x44C; &#x441;&#x432;&#x43E;&#x439; ID</span>\n</code></pre>\n      </div></body></html>\n<p>После открываем файл <code>scaffolds/post.md</code> и изменяем его содержимое на следующее</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-markdown"><code>title: {{ title }}\ndescription: {{ title }}\ndate: {{ date }}\nkeywords: []\ncategories: []\ntags: []\ncomments: true\n</code></pre>\n      </div></body></html>\n<html><head></head><body><h3><a name="&#x41F;&#x435;&#x440;&#x432;&#x44B;&#x439; &#x43F;&#x43E;&#x441;&#x442;">&#x41F;&#x435;&#x440;&#x432;&#x44B;&#x439; &#x43F;&#x43E;&#x441;&#x442;</a></h3></body></html>\n<p>Теперь можно открыть окно командной строки и выполнить команду</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code>hexo new my-first-cool-post\n</code></pre>\n      </div></body></html>\n<p>в результате выполнения будет сгенерирован файл поста и отображено сообщение</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code>INFO  Created: d:\\projects\\my-cool-blog\\source\\_posts\\year\\month\\my-first-cool-post.md\n</code></pre>\n      </div></body></html>\n<p>открываем файл в Markdown редакторе либо в онлайн редакторе вроде stackedit.io либо dillinger.io и редактируем</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-markdown"><code><span class="token hr punctuation">---</span>\ntitle: &#x41C;&#x43E;&#x439; &#x43F;&#x435;&#x440;&#x432;&#x44B;&#x439; &#x43C;&#x435;&#x433;&#x430;&#x43F;&#x43E;&#x441;&#x442;\ndescription: &#x42D;&#x442;&#x43E; &#x43C;&#x43E;&#x439; &#x43F;&#x435;&#x440;&#x432;&#x44B;&#x439; &#x43C;&#x435;&#x433;&#x430;&#x43F;&#x43E;&#x441;&#x442; &#x432; &#x43C;&#x43E;&#x435;&#x43C; &#x441;&#x442;&#x430;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x43E;&#x43C; &#x431;&#x43B;&#x43E;&#x433;&#x435; &#x43D;&#x430; Hexo\ndate: 2016-10-10 20:22:45\nkeywords: [&#x411;&#x43B;&#x43E;&#x433;]\ncategories: [&#x421;&#x442;&#x430;&#x442;&#x44C;&#x44F;]\n<span class="token title important">tags: [&#x411;&#x43B;&#x43E;&#x433;, Hexo]\n<span class="token punctuation">---</span></span>\n\n&#x412;&#x441;&#x435;&#x43C; &#x43F;&#x440;&#x438;&#x432;&#x435;&#x442;!\n\n&#x42D;&#x442;&#x43E; &#x43C;&#x43E;&#x439; &#x43F;&#x435;&#x440;&#x432;&#x44B;&#x439; &#x43F;&#x43E;&#x441;&#x442; &#x432; &#x441;&#x442;&#x430;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x43E;&#x43C; &#x431;&#x43B;&#x43E;&#x433;&#x435;\n<span class="token comment" spellcheck="true">&lt;!-- More --&gt;</span>\n\n&#x421;&#x442;&#x430;&#x442;&#x438;&#x43A;&#x430; &#x44D;&#x442;&#x43E; &#x43A;&#x440;&#x443;&#x442;&#x43E;!\n</code></pre>\n      </div></body></html>\n<p>Сохраняем наши изменения и выполняем команду</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code>call hexo clean <span class="token operator">&amp;&amp;</span> call hexo server -l --config _config.yml\n</code></pre>\n      </div></body></html>\n<p>По умолчанию открыв адрес <code>http://localhost:4000/</code> вы должны увидеть ваш первый пост</p>',color:"rgba(26, 132, 203, 0.8)",title:"Как создать статический блог с коментариями на Hexo",description:"В статье подробное описание процесса создания статического блога на Hexo с подключением сервиса коментариев Disqus",category:"кодинг",tags:["node js","blog","hexo"],date:"2016-10-10T22:12:03.284Z",type:null},{images:{heroPreviewLG:{src:"/static/4ee960190d0f89f49bede6b7f8769d85-d5c01.png"},heroPreviewMD:{src:"/static/4ee960190d0f89f49bede6b7f8769d85-62329.png"},heroPreviewSM:{src:"/static/4ee960190d0f89f49bede6b7f8769d85-f3214.png"},heroPreviewXS:{src:"/static/4ee960190d0f89f49bede6b7f8769d85-0e0e6.png"},mediumPreview:{src:"/static/4ee960190d0f89f49bede6b7f8769d85-eb3b3.png"},smallPreview:{src:"/static/4ee960190d0f89f49bede6b7f8769d85-cc4fc.png"}},excerpt:"Ave $USER! В последнее время стали очень популярны статические сайты, а в том числе и статические блоги. Даже меня не обшло…",id:"/Users/ivan/projects/gatsby-blog/src/pages/2016/09/hello-world-github-pages/index.md absPath of file >>> MarkdownRemark",slug:"/2016/09/hello-world-github-pages",permalink:"https://potofcode.com/2016/09/hello-world-github-pages/",html:'<p>Ave $USER!</p>\n<p>В последнее время стали очень популярны статические сайты, а в том числе и статические блоги. Даже меня не обшло стороной это веяние и\nподдавшись искушению и всеобщему хайпу, я перевел свой блог в ряды статических сайтов. Хостится он на GitHub с Custom Domain и проксируется\nчерез Cloud Flare, раздавая трафик по HTTPS.</p>\n<h3>Подготовка</h3>\n<h4>Cloud Flare</h4>\n<p>Регистрируемся на <a href="https://cloudflare.com">Cloud Flare</a> и добавляем свое доменное имя, например <code>my-cool-blog.com</code></p>\n<html><head></head><body><div class="gallery">\n  \n  <a class="gatsby-resp-image-link" href="/static/e12c836a773bab981954530381657ac2-d2fa7.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; z-index: 1; max-width: 732px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 43.852459016393446%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAArElEQVQoz53O4Q6CIBAH8Hv4nqNn6QH6ljBta+YQ5iybyYEMsSIxV2tz2e/DcTv43wBKabSLCCGMsbIsT0sAz3POfcl9WAgROv4kwmRmI5wHRVForfuFAJXyMTVARN/7aq29/wDquvavW61DzK+QUiLK18Jx7odqhOEwxsAUcM7dFoLpz0HXdW5W73pjccvWm8MKCKVpmh4/ZVm2T5Ikjr+v3kFVXZpr0+r2Dw/dof17coh9VAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="cloudflare step 1" title="" src="/static/e12c836a773bab981954530381657ac2-d2fa7.png" srcset="/static/e12c836a773bab981954530381657ac2-c8a05.png 245w,\n/static/e12c836a773bab981954530381657ac2-f9878.png 490w,\n/static/e12c836a773bab981954530381657ac2-d2fa7.png 976w" sizes="(max-width: 732px) 100vw, 732px">\n    </span>\n  </span>\n  \n  </a>\n    \n</div>  </body></html>\n<p>жмем <em>Begin Scan</em> и ждем окончания процесса. После окончания сканирования жмем продолжить, перед вами будет экран со всеми записями\nдомена, его можно пропустить (позже мы вернемся к нему) и нажать продолжить. Выбираем план подписки для данного домена и жмем продолжить.\nПоявится экран с NS записями, где необходимо скопировать адреса:</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-none"><code>dana.ns.cloudflare.com\ntodd.ns.cloudflare.com</code></pre>\n      </div></body></html>\n<p>и заменить ими ваши текущие NS записи.</p>\n<p>Все должно быстро обновиться и теперь идем в раздел <em>Crypto</em> и выставляем SSL значение Flexible.</p>\n<p>Переходим в раздел <code>Page Rules</code> и создаем правило для URL <code>http://*my-cool-blog.com/*</code> жмем <em>Add Settings</em> и выбираем <em>Always use HTTPS</em>.</p>\n<p>И наконец переходим во вкладку <code>DNS</code> и добавляем 2 A-записи для IP адресов: 192.30.252.153 и 192.30.252.154.\nЭто адреса GitHub серверов и жмем на тучки, что бы выставить статус <em>DNS and HTTP proxy(CDN)</em>.</p>\n<h4>GitHub</h4>\n<p>Создаем одноименный аккаунт на <a href="https://github.com">GitHub</a> <code>my-cool-blog</code>.\nДалее создаем репозиторий с именем <code>my-cool-blog.github.io</code> и переходим в настройки.\nТам в группе <em>GitHub Pages</em> находим поле <em>Custom Domain</em> и вводим свое доменное имя.</p>\n<h3>Проверка</h3>\n<p>Выполняем</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">mkdir</span> my-cool-blog\n<span class="token function">cd</span> my-cool-blog\n<span class="token function">git</span> clone https://github.com/my-cool-blog/my-cool-blog.github.io.git <span class="token keyword">.</span>\n</code></pre>\n      </div></body></html>\n<p>создаем файл <code>index.html</code></p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>My Cool Blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>My Cool Blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n      </div></body></html>\n<p>Выполняем</p>\n<html><head></head><body><div class="gatsby-highlight">\n      <pre class="language-bash"><code><span class="token function">git</span> add --all\n<span class="token function">git</span> ci -am <span class="token string">&quot;my first post&quot;</span>\n<span class="token function">git</span> push\n</code></pre>\n      </div></body></html>\n<p>и переходим по URL <code>http://my-cool.blog.com</code>.</p>\n<p>Должен произойти редирект на <code>https://my-cool-blog.com</code>.</p>\n<h3>Профит</h3>\n<p>Качественный бесплатный хостинг, для статического сайта с HTTPS, DDoS защитой и самое главное - это версионность, так как все хостится на GitHub.</p>',
color:"rgba(41, 29, 29, 0.8)",title:"Как создать свой сайт на GitHub с Custom Domain и HTTPS",description:"Подробное описание процесса создания сайта на GitHub с Custom Domain и HTTPS",category:"кодинг",tags:["hello world","github"],date:"2016-09-25T00:00:00.000Z",type:null}]}}}});
//# sourceMappingURL=path---2017-09-hello-world-node-js-d39263ad13ee5843b65f.js.map